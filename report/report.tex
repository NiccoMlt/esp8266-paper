% !TeX root = ./report.tex
% !TeX encoding = UTF-8 Unicode
% !TeX spellcheck = it_IT
% !TeX program = arara
% !TeX options = --log --verbose --language=it "%DOC%"

% arara: lualatex:      { interaction: batchmode, shell: yes }
% arara: biber
% arara: lualatex:      { interaction: batchmode, shell: yes }
% arara: lualatex:      { interaction: nonstopmode, synctex: yes, shell: yes }

\documentclass[12pt]{article}

\usepackage{fancyvrb}

\begin{VerbatimOut}{\jobname.xmpdata}
\Title{Stima di affollamento in luoghi chiusi tramite WiFi}
\Subject{Impiego di un sistema distribuito con ESP8266, Raspberry Pi e cloud per l'analisi di WiFi beacon e la stima dei dispositivi}
\Author{Niccolò Maltoni\sep{}Luca Semprini}
\Copyright{Questo documento è fornito sotto licenza MIT}
\CopyrightURL{https://opensource.org/licenses/MIT}
\end{VerbatimOut}

\usepackage[italian]{varioref}

\usepackage[luatex,dvipsnames,table,xcdraw]{xcolor}
\usepackage[a-1b]{pdfx}

%% Font
\usepackage{fontspec}
\defaultfontfeatures{Ligatures=TeX}
\setmainfont[SmallCapsFont={* Caps}]{Latin Modern Roman}
\setsansfont{Latin Modern Sans}
\defaultfontfeatures{} % reset for mono font
\setmonofont{Latin Modern Mono}

%% Math
\usepackage{amsmath}
\usepackage[math-style=ISO]{unicode-math}
\setmathfont{Latin Modern Math}
\usepackage[
  output-decimal-marker={,},
  binary-units
]{siunitx}

%% Lang
\usepackage[
  strict=true,
  autostyle=true,
  italian=guillemets
]{csquotes}
\usepackage{polyglossia}
\setmainlanguage[babelshorthands]{italian}

%% Geometry
\usepackage{geometry}
\geometry{a4paper}
\usepackage{graphicx}
\DeclareGraphicsExtensions{.eps, .pdf, .jpg, .tif, .png} % chktex 26
\usepackage{xargs}
%
\usepackage[colorinlistoftodos,prependcaption,textsize=tiny]{todonotes}
\newcommandx{\unsure}[2][1=]{\todo[linecolor=red,backgroundcolor=red!25,bordercolor=red,#1]{#2}}
\newcommandx{\change}[2][1=]{\todo[linecolor=blue,backgroundcolor=blue!25,bordercolor=blue,#1]{#2}}
\newcommandx{\info}[2][1=]{\todo[linecolor=OliveGreen,backgroundcolor=OliveGreen!25,bordercolor=OliveGreen,#1]{#2}}
\newcommandx{\improvement}[2][1=]{\todo[linecolor=Plum,backgroundcolor=Plum!25,bordercolor=Plum,#1]{#2}}
% \newcommandx{\thiswillnotshow}[2][1=]{\todo[disable,#1]{#2}}
\usepackage{float}

% \todo[inline]{The original todo note withouth changed colours.\newline Here's another line.}
% \lipsum[11]\unsure{Is this correct?}\unsure{I'm unsure about also!}
% \lipsum[11]\change{Change this!}
% \lipsum[11]\info{This can help me in chapter seven!}
% \lipsum[11]\improvement{This really needs to be improved!\newline\newline What was I thinking?!}
% \lipsum[11]
% \thiswillnotshow{This is hidden since option `disable' is chosen!}
% \improvement[inline]{The following section needs to be rewritten!}
% \lipsum[11]
% \newpage
% \listoftodos[Notes]

\linespread{1.2}
\setlength{\parindent}{0pt}

\usepackage[
  maxcitenames=2,
  mincitenames=2,
  maxbibnames=99,
  minbibnames=99,
  style=ieee,
  giveninits=true,
  backend=biber
]{biblatex}
\addbibresource{biblio.bib}
\usepackage[titletoc,title]{appendix}

\usepackage{scrumbacklogcard}
\usepackage{minted}

% \begin{backlogcard}
%   {Create log in screen} % User story title
%   {As a user I want to be able to log in.} % User story description
%   {Add user in SQL} % Additional comment
%   {100} % Importance
%   {100h} % Time estimate
% \end{backlogcard}

\usepackage{xurl}
\usepackage{microtype}

\hypersetup{%
  pdfpagemode={UseNone},
  hidelinks,
  hypertexnames=false,
  linktoc=all,
  unicode=true,
  pdftoolbar=false,
  pdfmenubar=false,
  plainpages=false,
  breaklinks,
  pdfstartview={Fit},
  pdflang={it}
}

\usepackage[italian,nameinlink,noabbrev]{cleveref}
\crefname{subsection}{sottosezione}{sottosezioni}
\Crefname{subsection}{Sottosezione}{Sottosezioni}

\begin{document}

%----------------------------------------------------------------------------------------
%	TITOLO
%----------------------------------------------------------------------------------------
\input{src/1-title.tex}

%----------------------------------------------------------------------------------------
%	INDICE
%----------------------------------------------------------------------------------------
\tableofcontents

\newpage

%----------------------------------------------------------------------------------------
%	INTRODUZIONE
%----------------------------------------------------------------------------------------
\input{src/2-intro.tex}

\newpage

%----------------------------------------------------------------------------------------
%	STATO DELL'ARTE
%----------------------------------------------------------------------------------------
\input{src/3-state-of-art.tex}

\newpage

%----------------------------------------------------------------------------------------
%	ANALISI DEI REQUISITI
%----------------------------------------------------------------------------------------
\input{src/4-requirements.tex}

\newpage

%----------------------------------------------------------------------------------------
%	PROGETTAZIONE
%----------------------------------------------------------------------------------------
\input{src/5-project.tex}

\newpage

%----------------------------------------------------------------------------------------
%	IMPLEMENTAZIONE
%----------------------------------------------------------------------------------------
\input{src/6-implementation.tex}

\newpage

%----------------------------------------------------------------------------------------
%	TESTING E PERFORMANCE
%----------------------------------------------------------------------------------------
\input{src/7-testing.tex}

\newpage

%----------------------------------------------------------------------------------------
%	ANALISI DI DEPLOYMENT SU LARGA SCALA
%----------------------------------------------------------------------------------------
\input{src/8-large-scale.tex}

\newpage

%----------------------------------------------------------------------------------------
%	PIANO DI LAVORO
%----------------------------------------------------------------------------------------
\input{src/9-work-plan.tex}

\newpage

%----------------------------------------------------------------------------------------
%	CONCLUSIONI
%----------------------------------------------------------------------------------------
\input{src/10-conclusion.tex}

\newpage

%----------------------------------------------------------------------------------------
%	APPENDICE
%----------------------------------------------------------------------------------------
\input{src/11-appendix.tex}

\newpage

%----------------------------------------------------------------------------------------
%	RIFERIMENTI BIBLIOGRAFICI
%----------------------------------------------------------------------------------------
\printbibliography[%  % produce la bibliografia
  heading=bibintoc    % inserisce il titolo nell'indice generale
]

%----------------------------------------------------------------------------------------

\end{document}
